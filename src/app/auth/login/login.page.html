<ion-content [fullscreen]="true" class="ion-padding">
  <div class="login-container">
    <!-- Logo/Header Section -->
    <div class="header-section">
      <ion-icon name="film-outline" class="app-logo"></ion-icon>
      <h1>Welcome Back</h1>
      <p>Sign in to continue to your account</p>
    </div>

    <!-- Login Form -->
    <div class="form-section">
      <ion-card class="login-card">
        <ion-card-content>
          <form #loginForm="ngForm" (ngSubmit)="onLogin(loginForm)" [class.form-submitted]="formSubmitted">
            <!-- Email Input -->
            <ion-item lines="none" class="input-item">
              <ion-icon name="mail-outline" slot="start"></ion-icon>
              <ion-input type="email" placeholder="Email" name="email" [(ngModel)]="email" #emailInput="ngModel"
                required email class="custom-input">
              </ion-input>
            </ion-item>
            <!-- Email Validation Messages -->
            <div class="error-message" *ngIf="emailInput.invalid && formSubmitted">
              <ion-text color="danger">
                <small *ngIf="emailInput.errors?.['required']">Email is required</small>
                <small *ngIf="emailInput.errors?.['email']">Please enter a valid email</small>
              </ion-text>
            </div>

            <!-- Password Input -->
            <ion-item lines="none" class="input-item">
              <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
              <ion-input [type]="passwordType" placeholder="Password" name="password" [(ngModel)]="password"
                #passwordInput="ngModel" required minlength="6" class="custom-input">
              </ion-input>
              <ion-icon [name]="passwordIcon" slot="end" (click)="togglePassword()" class="password-toggle">
              </ion-icon>
            </ion-item>
            <!-- Password Validation Messages -->
            <div class="error-message" *ngIf="passwordInput.invalid && formSubmitted">
              <ion-text color="danger">
                <small *ngIf="passwordInput.errors?.['required']">Password is required</small>
                <small *ngIf="passwordInput.errors?.['minlength']">Password must be at least 6 characters</small>
              </ion-text>
            </div>

            <!-- Forgot Password -->
            <div class="forgot-password">
              <ion-text color="primary">
                <small>Forgot Password?</small>
              </ion-text>
            </div>

            <!-- Login Button -->
            <ion-button expand="block" shape="round" class="login-button" type="submit" [disabled]="loginForm.invalid">
              Sign In
            </ion-button>
          </form>

          <!-- Divider -->
          <div class="divider">
            <span>or continue with</span>
          </div>

          <!-- Social Login Buttons -->
          <app-social-buttons (googleClick)="onGoogleLogin()" (facebookClick)="onFacebookLogin()"
            (appleClick)="onAppleLogin()">
          </app-social-buttons>
        </ion-card-content>
      </ion-card>

      <!-- Sign Up Link -->
      <div class="signup-link">
        <ion-text>
          Don't have an account?
          <ion-text color="primary" (click)="goToRegister()" class="link">
            <strong>Sign Up</strong>
          </ion-text>
        </ion-text>
      </div>
    </div>
  </div>
</ion-content>